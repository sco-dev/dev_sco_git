<mvc:View xmlns:f="sap.ui.layout.form" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc" xmlns:t="sap.ui.table" xmlns:l="sap.ui.layout" xmlns="sap.m"
          controllerName="sapui5agendar.scovisualizarordentrabajo_html.controller.Certificado">
    <App class="sapUiSizeCompact">
        <Page showHeader="false">
            <subHeader>
                <Toolbar>
                    <Button icon="sap-icon://nav-back" text="Volver" press="handleBack"/>
                </Toolbar>
            </subHeader>
            <content>
                <Panel headerText="Documento">
                    <f:Form editable="true" binding="{/Documento}">
                        <f:layout>
                            <f:ResponsiveGridLayout
                                    labelSpanXL="2"
                                    labelSpanL="2"
                                    labelSpanM="2"
                                    labelSpanS="2"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="2"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false"/>
                        </f:layout>
                        <f:formContainers>
                            <f:FormContainer>
                                <f:formElements>
                                    <f:FormElement label="Aviso">
                                        <f:fields>
                                            <Input editable="false" value="{Aviso}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Input editable="false" value="{ClaseAviso}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Input editable="false" value="{DescAviso}"/>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Orden">
                                        <f:fields>
                                            <Input editable="false" value="{Orden}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Input editable="false" value="{ClaseOrden}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Input editable="false" value="{DescOrden}"/>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Odómetro">
                                        <f:fields>
                                            <Input editable="false" value="{Odometro}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Horómetro">
                                        <f:fields>
                                            <Input editable="false" value="{Horometro}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                        </f:fields>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                            <f:FormContainer>
                                <f:formElements>
                                    <f:FormElement label="Status">
                                        <f:fields>
                                            <Input editable="false" value="{StatusAviso}"/>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Status">
                                        <f:fields>
                                            <Input editable="false" value="{StatusOrden}"/>
                                        </f:fields>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                        </f:formContainers>
                    </f:Form>
                </Panel>
                <Panel headerText="Objeto de Referencia">
                    <f:Form editable="true" binding="{/ObjetoReferencia}">
                        <f:layout>
                            <f:ResponsiveGridLayout
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    columnsXL="2"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false"/>
                        </f:layout>
                        <f:formContainers>
                            <f:FormContainer>
                                <f:formElements>
                                    <f:FormElement label="Equipo">
                                        <f:fields>
                                            <Input editable="false" value="{Equipo}">
                                                <layoutData>
                                                    <l:GridData span="L4 M4 S4"/>
                                                </layoutData>
                                            </Input>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Clase Vehículo">
                                        <f:fields>
                                            <Input editable="false" value="{ClaseVehiculo}">
                                                <layoutData>
                                                    <l:GridData span="L4 M4 S4"/>
                                                </layoutData>
                                            </Input>
                                            <Text text="{ClaseVehiculoDesc}"/>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Número Interno">
                                        <f:fields>
                                            <Input editable="false" value="{NroInterno}">
                                                <layoutData>
                                                    <l:GridData span="L4 M4 S4"/>
                                                </layoutData>
                                            </Input>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Solicitado Por">
                                        <f:fields>
                                            <Input value="{path:'SolicitadoPor',type:'sapui5agendar.scovisualizarordentrabajo_html.customelements.ExtendedString',constraints:{regex:{regex:'.+',text:'El campo Solicitante es obligatorio'}}}" required="true">
                                                <layoutData>
                                                    <l:GridData span="L4 M4 S4"/>
                                                </layoutData>
                                            </Input>
                                        </f:fields>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                            <f:FormContainer>
                                <f:formElements>
                                    <f:FormElement label="Patente">
                                        <f:fields>
                                            <Input editable="false" value="{Patente}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Material">
                                        <f:fields>
                                            <Input editable="false" value="{Material}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Text text="{MaterialDesc}" wrapping="false"/>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Cliente">
                                        <f:fields>
                                            <Input editable="false" value="{Cliente}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Text text="{ClienteNombre}" wrapping="false"/>
                                        </f:fields>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                        </f:formContainers>
                    </f:Form>
                </Panel>
                <Panel>
                    <f:Form editable="true" binding="{/Certificado}">
                        <f:layout>
                            <f:ResponsiveGridLayout
                                    labelSpanXL="2"
                                    labelSpanL="2"
                                    labelSpanM="2"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false"/>
                        </f:layout>
                        <f:formContainers>
                            <f:FormContainer>
                                <f:formElements>
                                    <f:FormElement label="Codificación" visible="{=${/Documento/ClaseOrden}!=='ZSMP'}">
                                        <f:fields>
                                            <Input enabled="false" value="{CodificacionGrupo}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Input enabled="false" value="{Codificacion}">
                                                <layoutData>
                                                    <l:GridData span="L1 M1 S1"/>
                                                </layoutData>
                                            </Input>
                                            <Input enabled="false" value="{CodificacionDesc}">
                                                <layoutData>
                                                    <l:GridData span="L5 M5 S5"/>
                                                </layoutData>
                                            </Input>
                                            <Button enabled="false" text="Seleccionar" icon="sap-icon://sys-find" width="8rem" press="handleOpenCodificacion"/>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Codificación" visible="{=${/Documento/ClaseOrden}==='ZSMP'}">
                                        <f:fields>
                                            <Input enabled="false" value="{CodificacionGrupo}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Input enabled="false" value="{path:'Codificacion',type:'sapui5agendar.scovisualizarordentrabajo_html.customelements.ExtendedString',constraints:{regex:{regex:'.+',text:'La selección de un Certificado es obligatoria'}}}" required="true">
                                                <layoutData>
                                                    <l:GridData span="L1 M1 S1"/>
                                                </layoutData>
                                            </Input>
                                            <Input enabled="false" value="{CodificacionDesc}">
                                                <layoutData>
                                                    <l:GridData span="L5 M5 S5"/>
                                                </layoutData>
                                            </Input>
                                            <Button enabled="true" text="Seleccionar" icon="sap-icon://sys-find" width="8rem" press="handleOpenCodificacion"/>
                                        </f:fields>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                        </f:formContainers>
                    </f:Form>
                </Panel>
                <Panel>
                    <f:Form editable="true" binding="{/Interlocutores}">
                        <f:layout>
                            <f:ResponsiveGridLayout
                                    labelSpanXL="2"
                                    labelSpanL="2"
                                    labelSpanM="2"
                                    labelSpanS="2"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false"/>
                        </f:layout>
                        <f:formContainers>
                            <f:FormContainer>
                                <f:formElements>
                                    <f:FormElement label="Jefe Responsable">
                                        <f:fields>
                                            <Input editable="false" value="{Responsable}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Text text="{ResponsableDesc}">
                                                <layoutData>
                                                    <l:GridData span="L6 M6 S6"/>
                                                </layoutData>
                                            </Text>
                                            <!--Button text="Seleccionar" icon="sap-icon://sys-find" width="8rem" press="handleSelectResponsable"/>

                                            -->
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Asesor">
                                        <f:fields>
                                            <Input editable="false" value="{Asesor}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Text text="{AsesorDesc}">
                                                <layoutData>
                                                    <l:GridData span="L6 M6 S6"/>
                                                </layoutData>
                                            </Text>
                                            <!--Button text="Seleccionar" icon="sap-icon://sys-find" width="8rem" press="handleSelectAsesor"/>

                                            -->
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement label="Cliente">
                                        <f:fields>
                                            <Input editable="false" value="{Cliente}">
                                                <layoutData>
                                                    <l:GridData span="L2 M2 S2"/>
                                                </layoutData>
                                            </Input>
                                            <Text text="{ClienteDesc}">
                                                <layoutData>
                                                    <l:GridData span="L6 M6 S6"/>
                                                </layoutData>
                                            </Text>
                                            <!--Button text="Seleccionar" icon="sap-icon://sys-find" width="8rem" press="handleSelectCliente"/>

                                            -->
                                        </f:fields>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                        </f:formContainers>
                    </f:Form>
                </Panel>
                <Panel>
                    <t:Table rows="{/Notas}" selectedIndex="{/i_Nota}" selectionMode="Single" selectionBehavior="RowOnly" visibleRowCount="5" noData="">
                        <t:extension>
                            <Toolbar>
                                <Button text="Agregar Nota" icon="sap-icon://add" press="handleAddNota"/>
                                <Button text="Eliminar Nota" icon="sap-icon://less" press="handleRemoveNota" visible="{=${/i_Nota} >= 0}"/>
                            </Toolbar>
                        </t:extension>
                        <t:columns>
                            <t:Column>
                                <Label text="Número"/>
                                <t:template>
                                    <Text text="{NUMERO}"/>
                                </t:template>
                            </t:Column>
                            <t:Column>
                                <Label text="Texto"/>
                                <t:template>
                                    <Input enabled="{=${NUMERO}[0] !== '0'}" value="{path:'TEXTO',type:'sapui5agendar.scovisualizarordentrabajo_html.customelements.ExtendedString',constraints:{type:'required'}}"/>
                                </t:template>
                            </t:Column>
                            <t:Column>
                                <Label text="Creado por"/>
                                <t:template>
                                    <Text text="{CREADO_POR}"/>
                                </t:template>
                            </t:Column>
                            <t:Column>
                                <Label text="Creado el"/>
                                <t:template>
                                    <Text text="{path:'CREADO_EL',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd-MM-yyyy'}}"/>
                                </t:template>
                            </t:Column>
                        </t:columns>
                        <t:footer>
                            <Toolbar>
                                <Text text="Total: {= ${/Notas}.length }"/>
                            </Toolbar>
                        </t:footer>
                    </t:Table>
                </Panel>
            </content>
            <footer>
                <Toolbar>
                    <Button
                            id="errorPopover"
                            icon="sap-icon://message-popup"
                            visible="{= ${message>/}.length > 0}"
                            text="{= ${message>/}.length}"
                            type="Emphasized"
                            press="handleMessagePopoverPress"/>
                    <ToolbarSpacer/>
                    <Button icon="sap-icon://print" text="Imprimir" press="handleImprimir"/>
                    <Button icon="sap-icon://save" text="Grabar" type="Emphasized" press="handleGrabar"/>
                </Toolbar>
            </footer>
        </Page>
    </App>
</mvc:View>